# =============================================================================
# Global Environment Variables for Multi-Server Minecraft Management
# =============================================================================
# Copy this file to .env and customize values:
#   cp .env.example .env
# =============================================================================

# Network Configuration
MINECRAFT_NETWORK=minecraft-net
MINECRAFT_SUBNET=172.28.0.0/16

# Host IP(s) for server hostname routing
# Used by create-server.sh to configure mc-router hostnames:
#   1. mDNS (avahi-daemon): <server>.local
#   2. Magic DNS (nip.io): <server>.<IP>.nip.io
#
# nip.io provides universal DNS resolution without client setup:
#   myserver.192.168.1.100.nip.io -> resolves to 192.168.1.100
#
# If not set, auto-detected from default network interface
# Note: nip.io requires internet access for DNS resolution

# Single IP (simple setup)
HOST_IP=192.168.1.100

# Multiple IPs (VPN mesh: Tailscale, ZeroTier, Nebula, etc.)
# Comma-separated list of IPs - each generates a nip.io hostname
# Example: LAN IP + VPN IP for access from multiple networks
# HOST_IPS=192.168.1.100,100.64.0.5

# mc-router Settings (configured via docker-compose.yml command)
# --auto-scale-down-after=10m    # Stop server after 10 min idle
# --docker-timeout=120           # Wait 2 min for server startup

# Default Server Settings
DEFAULT_MEMORY=4G
DEFAULT_VERSION=1.20.4

# Timezone
TZ=Asia/Seoul

# RCON Configuration (CHANGE IN PRODUCTION!)
RCON_PASSWORD=changeme
RCON_PORT=25575

# Docker Compose Project Name (optional)
COMPOSE_PROJECT_NAME=minecraft

# =============================================================================
# GitHub Backup Configuration (Optional)
# =============================================================================
# Backup worlds/ directory to a private GitHub repository.
# Create a Personal Access Token at: https://github.com/settings/tokens
# Token needs 'repo' scope for private repository access.
#
# BACKUP_GITHUB_TOKEN=ghp_xxxxxxxxxxxxxxxxxxxx
# BACKUP_GITHUB_REPO=username/minecraft-worlds-backup
# BACKUP_GITHUB_BRANCH=main
# BACKUP_AUTO_ON_STOP=true

# =============================================================================
# Management Console Configuration (Optional)
# =============================================================================
# Web-based management UI for Minecraft servers.
# Start with: mcctl admin service start
#
# Or manually:
#   docker compose -f docker-compose.yml -f docker-compose.admin.yml up -d
# =============================================================================

# --- Container Images ---
# Use pre-built images or build locally
MCCTL_API_IMAGE=minecraft-docker/mcctl-api:latest
MCCTL_CONSOLE_IMAGE=minecraft-docker/mcctl-console:latest

# --- Port Configuration ---
# mcctl-console: Web UI accessible on this port (default: 5000)
MCCTL_CONSOLE_PORT=5000
# mcctl-api: Internal API port (default: 5001, usually not exposed externally)
# MCCTL_API_PORT=5001

# --- API Configuration ---
# Access mode: internal (only mcctl-console) or external (direct API access)
API_ACCESS_MODE=internal
# API key for external access or internal service communication
# Generate with: openssl rand -hex 32
# API_KEY=your-api-key-here

# --- Security (CHANGE IN PRODUCTION!) ---
# JWT secret for API authentication
# Generate with: openssl rand -hex 64
MCCTL_JWT_SECRET=change-me-in-production
MCCTL_JWT_EXPIRY=24h

# NextAuth secret for session management
# Generate with: openssl rand -hex 64
NEXTAUTH_SECRET=change-me-in-production
# Public URL for NextAuth callbacks
NEXTAUTH_URL=http://localhost:5000

# --- CORS Configuration ---
# Allowed origins for API requests (comma-separated)
MCCTL_CORS_ORIGIN=http://localhost:5000

# --- Logging ---
LOG_LEVEL=info
